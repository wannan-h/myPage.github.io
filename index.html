<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico in the root directory -->

    <meta name="theme-color" content="#fafafa">
</head>

<body>

<!-- Add your site or application content here -->
<form method="post" action="result.html">
    <p>年龄&nbsp<input id="age" name="name" type="number"required>岁</p>
    <p>血清PSA&nbsp<input id="psa" type="number" required>ng/ml</p>
    <p>前列腺体积&nbsp<input id="pv" type="number" required>ml</p>
    <p>直肠指检&nbsp<input id="dre" name="name" type="number"required></p>
    <p><input type="button" value="提交" id="submitbtn" onclick="mySubmit()"></p>
</form>

<p id = "logPSA"></p>
<p id = "logPV"></p>
<p id = "res"></p>

</body>
<script>
    function mySubmit(){
        let age = document.getElementById("age").value;
        let dre = document.getElementById("dre").value;
        let psa = document.getElementById("psa").value;
        let pv = document.getElementById("pv").value;
        let res = 0;
        let temp = 0;
        console.log(psa);
        document.getElementById("logPSA").innerHTML = "logPSA = " + Math.log(psa);
        document.getElementById("logPV").innerHTML = "logPV = " + Math.log(pv);

        // TODO: 下行的计算方法要修改
        console.log(-1.163 + 0.033 * age + 1.032 * dre - 2.82 * Math.log(pv) + 2.292 * Math.log(psa));
        temp = Math.pow(Math.E, -1.163 + 0.033 * age + 1.032 * dre - 2.82 * Math.log(pv) + 2.292 * Math.log(psa));
        res = temp / (1 + temp);

        console.log(temp);
        console.log(res);
        document.getElementById("res").innerHTML = "计算结果 = " + res ;
    }

</script>

</html>
